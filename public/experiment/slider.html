<!doctype html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <style>
        body {
            text-align: center;
            height: 100vh;
            vertical-align: middle;
        }

        #hi {
            width: 200px;
            margin-top: 100px;
        }
    </style>

</head>

<body>




    <input type="range" min=1 max=10 id="hi" />

    <script type="text/javascript">

        let cv = 0;
        let gShiftKey = false;
        let gCtrlKey = false;

        $(document).on('keydown', function (e) {
            if (e.shiftKey) {
                gShiftKey = true;
            }
            if (e.ctrlKey) {
                gCtrlKey = true;
            }
        });
        $(document).on('keyup', function (e) {
            if (e.shiftKey == false) {
                gShiftKey = false;
            }
            if (e.ctrlKey == false) {
                gCtrlKey = false;
            }
        });

        $(document).ready(() => {
            $("#hi").val(cv);
            $("#hi").click((e) => {
                let a = 0;
                console.log(`click ${e.altKey} ${gShiftKey} ${gCtrlKey}`);
                if (gCtrlKey) {
                    e.target.value = 9;
                }
            });
            $("#hi").on('input', e => {
                console.log(`input ${e.target.value}  ${gShiftKey} ${gCtrlKey}`);
                let hi = document.getElementById('hi');
                if (!hi.isExpanded && gShiftKey) {
                    hi.style.width = "500px";
                    hi.isExpanded = true;
                }
                if (hi.isExpanded && !gShiftKey) {
                    hi.style.width = "100px";
                    hi.isExpanded = false;
                }
            });
            $("#hi").change((e) => {
                console.log(`change ${e.target.value}  ${gShiftKey} ${gCtrlKey}`);
                let hi = document.getElementById('hi');
                if (hi.isExpanded) {
                    hi.style.width = "100px";
                    hi.isExpanded = false;
                }
            });
        });

    </script>

</body>

</html>